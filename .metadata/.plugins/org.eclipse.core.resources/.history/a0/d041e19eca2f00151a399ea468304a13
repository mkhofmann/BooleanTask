
public class Tasks {
	//TODO: use Tree structure
	public static Node mold(Node model, float x, float y, float z){
		DifferenceNode diff = new DifferenceNode();
		diff.addChild(new CubeModelNode(x,y,z));
		diff.addChild(model);		
		return diff;
	}

	public static Node crop(Node model, float xZero, float yZero, float zZero, float x, float y, float z){
		IntersectionNode inter = new IntersectionNode();
		inter.addChild(new TranslateNode(new CubeModelNode(x,y,z),xZero,yZero,zZero));
		inter.addChild(model);		
		return inter;
	}
	public static Node flatBottom(Node model, float x, float y, float z){
		DifferenceNode diff = new DifferenceNode();
		diff.addChild(model);	
		diff.addChild(new TranslateNode(new CubeModelNode(x,y,z),0,0,-z));
		return diff;
	}
	public static Node platForm(Node model, float x, float y, float z){
		UnionNode union = new UnionNode();
		union.addChild(model);	
		union.addChild(new TranslateNode(new CubeModelNode(x,y,z),0,0,-z));
		return union;
	}
	public static Node unionByPlatForm(Node model1, Node model2, float x, float y, float z){
		UnionNode union = new UnionNode();
		union.addChild(Tasks.platForm(model1, x, y, z));
		union.addChild(new RotateNode(Tasks.platForm(model2, x, y, z), 180,0,0));
		return union;
	}
	
	public static void main(String args[]){//0: input, 1: stl filename// all tests are succesfull
		String[] lines=null;
		switch(Integer.parseInt(args[0])){
		case 0://mold
			lines= new String[1];
			lines[0] = Tasks.mold(Codes.importSTL(args[1]),100,100,100);
			break;
		case 1://slice
			//TODO: reset slice
			break;
		case 2://crop
			lines = new String[1];
			lines[0] = Tasks.crop(Codes.importSTL(args[1]), 0,0,0, 3, 6, 9);
			break;
		case 3://flatBottom
			lines = new String[1];
			lines[0] = Tasks.flatBottom(Codes.translate(0, 0, -3,Codes.importSTL(args[1])), 100, 100, 3);
			break;
		case 4://platform
			lines = new String[1];
			lines[0] = Tasks.platForm(Codes.importSTL(args[1]), 100, 100, 3);
			break;
		case 5://minkowski//concept not working, adapt in SCAD
			//TODO: Fix concept
			lines = new String[1];
			lines[0] = Tasks.platFormMinkowski(Codes.cylinder(10, 30), 100, 100, 3, 6);
			break;
		case 6://union platform
			lines = new String[1];
			lines[0] = Tasks.unionByPlatForm(Codes.importSTL(args[1]), Codes.cylinder(5, 10), 40, 40, 3);
			break;
		case 7: //union minkowski
			break;
		default:
			break;
		}
		SCADWriter.writeSCAD(lines, "TasksTest");
	}
}
